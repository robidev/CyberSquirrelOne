BUGS:
FINAL: tweak surveillance-camera behaviour/timing

explain picking up/dropping the hacker
provide alternatives for q and e that work with arrow keys
explain e and q for each squirrel (explain also keep pressing for grapling and acorn, and swinging for grapling)
add dialog readback option
ensure tab should be done, when it is available, and not before
same goes for other info; ensure it is given when it can be used
explain usage/goal of code-lock better, as well as therms like PCB, and make the buttons more clear
make powerline on/off more clear


alpha: 
 make puzzle2 (level1_end)
 make epilogue

adding:
 better vantage point by trees?
 water, x  water-splash   - https://opengameart.org/content/water-splash-yo-frankie
 nightfall-atmospheric? fog, light reflection,  extra: env will change based on switching in HMI
 add more scenery schrubs, cars, signs etc.
x  static         - https://opengameart.org/content/static-noise-similar-untuned-tv-also-known-white-noise
x  walki-talkie/radio beep/bzzt - dialog - https://opengameart.org/content/camerashudder


option: have engineer respond to camera???? not in MVP...

objectives:

 triggers near bay/station/telecom-controllers(message: nah, too easy ;) )


ninja       - cannot enter powerline with power
            + when power is down, he can reach switchyard, but no lockpick skills
	    + can blowdart hedgehog?? catch22?
            + trafo is sabotaged by ninja+drone pilot

hacker      - cannot climb substation without help from drone
	    (+ can disable alarm/camera??????)
	    + can do lockpick, 
	    + can modify HMI to disable power, (and re-enable after ninja sabotage )
              (alternative: wait for hedgehog/mechanic to re-enable?)

drone pilot - drone gets attacked by bird
            + areal reconneisance?
	    + can throw acorn to knock out guard/camera
	    + will provide drone support for hacker transport,  allows hacker to traverse fence and stay undetected



Tile:
32x32 px

----------------------------------

forest backdrop     - day/night TODO
substation-backdrop - day/night  TODO
city-backdrop       - day/night  TODO
day-night transition animation


backlog:
 blow-up (small/big) - https://www.youtube.com/watch?v=oCDsDb7V59o


Puzzle1:
you can modify the circuit (by wire? by input? how to do this robust, without removing the 'fun' or overcomplicating?) -> provide datasheets of IC's as hint
if you force WP high, you prevent the tries from incrementing
with infinite tries, you should be able to do it in 25 attempts or so.


Puzzle2:
????
top view
switch components, and ensure protection does not work correctly, so that 5 trafo's destruct
part switchyard, part protection-bays


https://search.abb.com/library/Download.aspx?DocumentID=1VCP000071&LanguageCode=en&DocumentPartId=&Action=Launch
motorised disconnecotr (double busbar)  - https://library.e.abb.com/public/e71c316701554119a246abec86d20780/DS%202553%20ZX2.2%20en.pdf
https://electrical-engineering-portal.com/current-transformers-power-circuits
file:///tmp/mozilla_user0/Power%20Xpert%20FMX%20-%20Application%20Guide_6054036_02_ENG.pdf

https://electrical-engineering-portal.com/why-electrical-equipment-fails
loose joints leading to overheating or arcing
existence of voids and contamination in insulation causing arcing and breakdown products.
closed on fault
open CT
too much amp trough CT
 

---------------
https://electrical-engineering-portal.com/download-center/books-and-guides/power-substations/operation-33-11-kv-substation

hacker:
 - SWITCHGEAR CABINET DESTRUCTION 
  modify protection settings
  send timed-oper, with interlock override for disconnector/earh-switch, per outgoing bay
 - DUAL TRANSFORMER DESTRUCTION
  override protection settings of both transformers
  open earth-switch after trafo
  close other earth switch before trafo
  leave open disconn. before trafo
  send timed oper for switch, then timed oper for disconnector
 - SMASH PC (Action 2)

drone: getaway

ninja: rope to get away

drone-pilot: put acorn in earth-switch to prevent immediate failure





puzzle2:
trafo1 enabled, trafo2 disabled

desktop with:
 - HMI
 - engineering-tool: shows tree-view with similar names, and associated settings(settings-write, timed oper and interlock change can be from here)
 - top-view of station?
 - documentation (what are the componenst and their properties, 
 - how to open/close in HMI and read values
 - how to change protection settings,  what is interlocking?
 - footnotes about interlock-override and timed operate (explain there is a max future time)
 - desktop and immages folder with funny stuff
 - security cam feeds
dialog:
 - explain to first destroy cabinets, then trafos for max damage
 - explain too much load will trip the line
 - 


Scenario:
 distribution cabinets all on
 disable interlocking logic
 turn each disconnector off, one by one,  disconnector-open command. see result by security-cam
 - timed operate is possible/encouraged

goal1:
 see cabinets explode by security-cam


incoming earth-sw is on
 turn outgoing earth-sw off
 engage trafo2 outgoing disconector, to connect to other busbar.
 enable trafo2 CB, while incoming disconn. still off, running current from trafo1, trough the bus to trafo2, trough incoming earth-switch(pilot sets resistance?)
 do-remote interlock override, do remote prot-settings, do it via timed operate
goal2
 see trafo's explode
 - if you do this before all distribution-stuff is broken, and you're still there(not timed), you get 'bad' ending
 - if a timed operate is set, and the result would be destruction, puzzle ends, and epilogue starts with timer that has been set..



epilogue: - timer is set from puzzle - 
 building is burning, door does not open
  hacker smash computer
  ninja help hacker to climb up
  ninja/hacker get out by airvent
  rotating-airvent blocks exit
  drone-pilot use drone to get up on roof, and throw acorn to rotating air-vent
  ninja+hacker get out
  all on roof, to get away
 - meanwhile bird sweeps in to save hedgehog, and both fly off - 
  pilot slots in drone (scripted?)
  ninja throws rope to drone (scripted?)
  hacker jumps on rope(scripted)
  the 3 fly away, and the building explodes
 #cyberwar4ever


help:
 explain function of CB
 explain function of DIS
 explain function of trafo
 explain current-flow
 explain that cabinet-interlock is logical trough protection relay, (and can be overwritten)
 explain consequence of overwritten interlock
 explain earth-switch




